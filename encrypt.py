# encoding: utf-8
def encrypt(string, shift):
    cipher = ''
    for char in string:
        cipher = cipher + chr((ord(char) + shift) % 255)
    return cipher

def input_text():
    return input("input a string: ")

def input_key():
    return int(input("input the key: "))

def print_menu():
    print("0 - End")
    print("1 - Encrypt")
    print("2 - Decrypt")
    print("3 - Encrypt File")
    print("4 - Decrypt File")

def insert_option():
    return int(input("Insert option: "))

def input_file(path_in, path_out, key):
    fi = open(path_in, 'r')
    fo = open(path_out, 'a')
    lines = fi.readlines()
    for line in lines:
        fo.write(encrypt(line, key))
    fi.close()
    fo.close()

if __name__ == '__main__':
    print_menu()
    opt = insert_option()
    while opt != 0:
        if opt == 1:
            text = input_text()
            key = input_key()
            print("\""+encrypt(text, key)+"\"")
        elif opt == 2:
            text = input_text()
            key = input_key()
            print("\""+encrypt(text, key * -1)+"\"")
        elif opt == 3:
            input_file(input("insert txt input path: "), input("insert txt output path: "), int(input("Insert key: ")))
        elif opt == 4:
            input_file(input("insert txt input path: "), input("insert txt output path: "), int(input("Insert key: ")) * -1)

        elif opt == 0:
            break
        else:
            opt = insert_option()
        print_menu()
        opt = insert_option()
